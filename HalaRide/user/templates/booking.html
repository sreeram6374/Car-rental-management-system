{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Halaride</title>

    <link rel="stylesheet" href="{% static 'CSS/booking.css' %}" />
    <!-- Bootstrap 5 CSS CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    {% include 'include/user_navbar.html' %}

    <div class="container pb-3">
      <div class="row submit-form">
        <!-- Left Content - col-7 -->
        <div class="col-lg-7">
          <!-- Images -->
          <a href="{% url 'cardetails' car.id %}">
            <div class="row">
              <div class="col-8">
                <img
                  src="{{ car.image1.url }}"
                  class="img-fluid rounded-3 w-100 h-100"
                  alt="Tata Harrier 2025"
                />
              </div>
              <div class="col-4 d-flex flex-column gap-1">
                <img
                  src="{{ car.image2.url }}"
                  class="img-fluid rounded-3 w-100 h-50"
                  alt="Harrier Angle 1"
                />
                <img
                  src="{{ car.image3.url }}"
                  class="img-fluid rounded-3 w-100 h-50"
                  alt="Harrier Angle 2"
                />
              </div>
            </div>
          </a>

          <!-- Car Info and Price -->
          <div class="row mt-3">
            <div class="col-lg-4">
              <h3 class="fw-bold text-break">
                {{ car.carname }} {{ car.modelyear }}
              </h3>
              <p class="text-secondary">
                {{ car.geartype }} | {{ car.fueltype }} | {{ car.seating }}
                Seats
              </p>
              {% if car.fastag %}
              <p><i class="fas fa-tag"></i> FASTag Available</p>
              {% else %}
              <p><i class="fas fa-tag"></i> FASTag Not Available</p>
              {% endif %}
            </div>

            <div class="col-lg-8">
              <div class="price-cal bg-light p-3 rounded-3 price-cal-sticky">
                <div class="mb-2 d-flex justify-content-between">
                  <span class="fw-bold fs-5">Price (Per hour)</span>
                  <span class="fw-bold fs-5"
                    ><i class="fa fa-inr"></i>
                    <span id="pricePerHour">{{ car.price }}</span></span
                  >
                </div>
                <hr>

                <!-- <div class="mb-2 d-flex justify-content-between">
                  <span class="fw-bold fs-5">Total Hours</span>
                  <span class="fw-bold fs-5"
                    ><i class="fa fa-clock"></i>
                    <span id="hourCalculation">Calculate total hour</span></span
                  >
                </div> -->

                <div class="mb-2 d-flex justify-content-between">
                  <span class="fw-bold fs-5">Security Deposit</span>
                  <span class="fw-bold fs-5"
                    ><i class="fa fa-inr"></i>
                    <span id="securityDeposit"
                      >{{ car.deposit }}(refundable)</span
                    ></span
                  >
                </div>

                <!-- <hr />

                <div class="d-flex justify-content-between">
                  <span class="fw-bold fs-5">Total Price</span>
                  <span class="fw-bold fs-5"
                    ><i class="fa fa-inr"></i>
                    <span id="totalPrice">Total hour * price /h</span></span
                  >
                </div> -->
              </div>
            </div>
          </div>
        </div>

        <!-- Right Form - col-5 -->
        <div class="col-lg-5 border border-1 p-4 rounded-3">
          <h3 class="fw-bold text-center">Personal Details</h3>
          <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
              <div class="col-6 d-flex flex-column gap-2">
                <label for="customername">Full Name</label>
                <input
                  type="text"
                  name="customername"
                  class="form-control"
                  required
                />

                <label for="mobilenumber">Mobile Number</label>
                <input
                  type="tel"
                  name="mobilenumber"
                  class="form-control"
                  required
                />

                <label for="licenceimage">Upload License Image</label>
                <input type="file" name="licenceimage" class="form-control" />

                <label for="pickup_datetime">Pickup Date & Time</label>
                <input
                  type="datetime-local"
                  name="pickup_datetime"
                  class="form-control"
                  required
                />

                <label for="drop_datetime">Drop Date & Time</label>
                <input
                  type="datetime-local"
                  name="drop_datetime"
                  class="form-control"
                  required
                />
              </div>

              <div class="col-6 d-flex flex-column gap-2">
                <label for="email">Email</label>
                <input
                  type="email"
                  name="email"
                  class="form-control"
                  required
                />

                <label for="licencenumber">Driving License Number</label>
                <input
                  type="text"
                  name="licencenumber"
                  class="form-control"
                  required
                />

                <div class="form-check mt-2">
                  <input
                    type="checkbox"
                    id="homeDelivery"
                    class="form-check-input"
                    onclick="toggleAddress()"
                  />
                  <label for="homeDelivery" class="form-check-label"
                    >Click checkbox to enter address for home delivery</label
                  >
                </div>

                <div id="addressBox" style="display: none" class="mt-3">
                  <label for="address">Address</label>
                  <textarea
                    name="address"
                    id="address"
                    class="form-control"
                    rows="4"
                  ></textarea>
                </div>
              </div>
            </div>

            <div class="mt-4 text-center">
              <button type="submit" class="btn btn-dark w-50 fw-bold">
                Confirm Booking
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
     {% include 'include/footer.html' %}

    <!-- JS -->
    <script src="{% static 'js/booking.js' %}"></script>
  </body>
</html>
